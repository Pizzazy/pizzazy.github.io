/* Shared site styles with dark mode support and purple accent */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');

:root{
  /* Light theme: purple accent (slightly more purple as requested) */
  --accent: #7b3aff; /* vivid purple for light */
  --brand: var(--accent);
  --bg: #f8f9fa;
  --surface: #ffffff;
  --muted: #6c757d;
  --text: #111827; /* slightly darker for contrast */
  --muted-contrast: rgba(17,24,39,0.6);
  --timeline-line: #e6e6ef;
}

/* Dark theme variable overrides - set high-level CSS variables so theme toggling works by swapping variables */
.dark-theme{
  --accent: #ff00a8; /* neon pink in dark */
  --brand: var(--accent);
  --bg: #071018; /* very dark background */
  --surface: #0f1720; /* dark surface for cards */
  --muted: rgba(255,255,255,0.72);
  --text: #e6eef8;
  --muted-contrast: rgba(230,238,248,0.6);
  --timeline-line: rgba(255,0,168,0.22);
}

/* Ensure the page background and base text respond to the variables when dark-theme is present */
.dark-theme body{ background-color: var(--bg); color: var(--text); }

/* Dark theme: toggled by adding .dark-theme on <html> or <body> */
/* NOTE: removed nested rules to avoid invalid CSS parsing. Dark-mode selectors use the
   `.dark-theme` prefix explicitly where needed later in the file. */
.card .card-body h5{ font-weight:600; }

footer{ background:transparent; }
.badge-accent, .badge-accent {
  background-color: var(--brand);
  color: #fff;
}
.form-control:focus {
  border-color: var(--brand);
  box-shadow: 0 0 0 .15rem color-mix(in srgb, var(--brand) 20%, transparent);
}
.nav-link.active, .nav-link:active{ color: var(--brand); }
.dropdown-item.active, .dropdown-item:active{ background-color: color-mix(in srgb, var(--brand) 14%, transparent); color:#fff; }
.page-link.active{ background-color:var(--brand); border-color:var(--brand); color:#fff; }

/* Timeline styles (moved here so they follow theme variables) */
.timeline {
  position: relative;
  padding-left: 2rem;
  margin-top: 1rem;
}
.timeline::before {
  content: '';
  position: absolute;
  left: 1rem;
  top: 0;
  bottom: 0;
  width: 3px;
  background: var(--timeline-line);
  border-radius: 2px;
}

/* Make the timeline line pop more in dark mode */
.dark-theme .timeline::before{
  width: 4px;
  background: var(--timeline-line);
  box-shadow: 0 0 10px color-mix(in srgb, var(--brand) 40%, transparent);
}
.timeline-item {
  position: relative;
  margin-bottom: 2rem;
  padding-left: 1.5rem;
}
.timeline-item::before {
  content: '';
  position: absolute;
  left: 0.5rem;
  top: 0.5rem;
  width: 1rem;
  height: 1rem;
  background: var(--brand);
  border-radius: 50%;
  border: 3px solid var(--surface);
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--brand) 12%, transparent);
}
.timeline-date {
  font-weight: 600;
  color: var(--text);
  margin-bottom: .25rem;
}
.timeline-card img { max-width: 100%; height: auto; object-fit: cover; }

.timeline-card .card-body p{ margin-bottom: .75rem; }

/* Theme toggle button */
.theme-toggle {
  border: none;
  background: transparent;
  color: var(--text);
  display: inline-flex;
  align-items: center;
  gap: .5rem;
  padding: .25rem .5rem;
  border-radius: .375rem;
  cursor: pointer;
  transition: background .12s ease, transform .12s ease;
}
.theme-toggle:hover{ background: color-mix(in srgb, var(--text) 6%, transparent); transform: translateY(-1px); }

/* Icon container inside the button */
.theme-toggle .icon{
  display:inline-flex;
  width:1.1rem;
  height:1.1rem;
  align-items:center;
  justify-content:center;
}
.theme-toggle .icon svg{ width:100%; height:100%; display:block; }

/* Two overlayed icons: sun (light) and moon (dark) - we crossfade them */
.theme-toggle .icon-sun, .theme-toggle .icon-moon{
  position:relative;
  transition:opacity .22s ease, transform .22s ease;
}
.theme-toggle .icon-sun{ opacity:1; transform: rotate(0deg) scale(1); }
.theme-toggle .icon-moon{ opacity:0; transform: rotate(-15deg) scale(.8); }
.theme-toggle.is-dark .icon-sun{ opacity:0; transform: rotate(15deg) scale(.8); }
.theme-toggle.is-dark .icon-moon{ opacity:1; transform: rotate(0deg) scale(1); }

/* label text (optional) */
.theme-toggle .label{ font-size:.875rem; color:var(--muted); }

/* SVG icon styling for morph toggle */
.theme-toggle svg{ width:1.1rem; height:1.1rem; display:block; color:var(--muted); }
.theme-toggle.is-dark svg{ color:var(--brand); }
.theme-toggle path{ transition: fill .18s ease, transform .18s ease; fill:currentColor; }

/* Accent usage across components */
.btn-primary{
  background-color: var(--brand) !important;
  border-color: color-mix(in srgb, var(--brand) 8%, black 0%);
  color: #fff !important;
  box-shadow: 0 1px 0 0 color-mix(in srgb, var(--brand) 30%, transparent);
  transition: background .12s ease, transform .08s ease, box-shadow .12s ease;
}
.btn-primary:hover, .btn-primary:focus{
  background-color: color-mix(in srgb, var(--brand) 88%, black 12%);
  transform: translateY(-1px);
}

/* Nav link accent */
.navbar .nav-link{
  color: var(--muted);
  transition: color .12s ease, transform .08s ease;
}
.navbar .nav-link:hover, .navbar .nav-link:focus{ color: var(--brand); transform: translateY(-1px); }
.navbar .nav-link.active{ color: var(--brand); font-weight:600; }

a{ color: var(--brand); }
a:hover, a:focus{ text-decoration: underline; color: color-mix(in srgb, var(--brand) 88%, black 12%); }

@media (max-width:767px){
  .header-hero{ padding: 2rem 0.5rem; }
}

/* Dark theme overrides for Bootstrap components */
.dark-theme .navbar, .dark-theme .navbar .container, .dark-theme .navbar .nav-link, .dark-theme .navbar .navbar-brand{
  background-color: transparent !important;
  color: var(--text) !important;
}
.dark-theme .bg-light{ background-color: var(--surface) !important; }
.dark-theme .card, .dark-theme .header-hero, .dark-theme .bg-body-tertiary {
  background-color: var(--surface) !important;
  color: var(--text) !important;
  border-color: color-mix(in srgb, var(--text) 8%, transparent) !important;
}
.dark-theme .card .card-body, .dark-theme .header-hero, .dark-theme .bg-body-tertiary{ color: var(--text); }
.dark-theme .text-muted{ color: var(--muted) !important; }
.dark-theme .navbar .dropdown-menu{ background-color: var(--surface); color:var(--text); border-color: color-mix(in srgb, var(--text) 8%, transparent); }

/* Ensure dropdown items are readable and interactive in dark mode */
.dark-theme .dropdown-menu .dropdown-item{
  color: var(--text) !important;
  background: transparent !important;
}
.dark-theme .dropdown-menu .dropdown-item:hover,
.dark-theme .dropdown-menu .dropdown-item:focus{
  background: color-mix(in srgb, var(--brand) 12%, transparent) !important;
  color: #fff !important;
}

/* Toggler icon visible on dark background */
.dark-theme .navbar-toggler-icon{ filter: invert(1) brightness(2) !important; }

/* Ensure images have subtle borders in dark mode */
.dark-theme img{ border-radius: .25rem; }

/* Card links */
.card .stretched-link{ color: var(--brand); }
.dark-theme .card .stretched-link{ color: var(--brand); }
